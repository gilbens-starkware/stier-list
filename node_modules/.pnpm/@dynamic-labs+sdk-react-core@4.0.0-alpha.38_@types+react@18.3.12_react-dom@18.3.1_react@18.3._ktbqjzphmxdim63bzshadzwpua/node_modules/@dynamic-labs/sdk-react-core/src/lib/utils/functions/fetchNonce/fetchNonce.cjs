'use client'
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var _tslib = require('../../../../../_virtual/_tslib.cjs');
var utils$1 = require('@dynamic-labs/utils');
var utils = require('../../../data/api/utils.cjs');
var environmentId = require('../../../store/state/environmentId.cjs');

/**
 * Fetches a nonce from the backend.
 * Will throw an error if this fails.
 */
const fetchNonce = () => _tslib.__awaiter(void 0, void 0, void 0, function* () {
    const nonce = yield utils.getNonce(environmentId.getEnvironmentId());
    if (!nonce) {
        throw new utils$1.DynamicError('Missing nonce');
    }
    return nonce;
});

exports.fetchNonce = fetchNonce;
